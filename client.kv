<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            id: 'login_btn'
            text: 'Login'
            on_press: root.goto()
        Button:
            text: 'Settings'
            on_press: root.manager.current = 'settings'

<SettingsScreen>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Host:'
        TextInput:
            id: host
            multiline: False
        Label:
            text: 'Port:'
        TextInput:
            id: port
            multiline: False
        Button:
            text: 'Back to menu'
            size_hint_y: None
            height: '48dp'
            on_press: root.save_config(host.text, port.text); root.manager.current = 'menu'

<CameraScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Snapshot'
            on_press: root.make_photo()
            size_hint_y: None
            height: '48dp'
        Button:
            id: back_button
            text: 'Back'
            size_hint_y: None
            height: '48dp'
            on_press: root.manager.current = 'messages'

<MessageScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            id: btn_send
            text: 'Send'
            size_hint_y: None
            height: '48dp'
            on_press: root.send_message(message_text.text); message_text.text=""
        Button:
            id: btn_makephoto
            text: 'Photo'
            size_hint_y: None
            height: '48dp'
            on_press: root.manager.current = 'photo'
        TextInput:
            id: message_text
            multiline: True
        Button:
            text: 'Back to menu'
            size_hint_y: None
            height: '48dp'
            on_press: root.manager.current = 'menu'


<LoginScreen>:
    orientation: 'vertical'
    GridLayout:
        rows: 1
        cols: 1
        GridLayout:
            rows: 3
            cols: 2
            Label:
                text: 'Username:'
            TextInput:
                id: username
                multiline: False
            Label:
                text: 'Password:'
            TextInput:
                id: password
                password: True
                multiline: False
            Button:
                id: send_button
                text: 'Send'
                size_hint_y: None
                height: '48dp'
                on_press: root.login(username.text, password.text)
            Button:
                id: back_button
                text: 'Back to the menu'
                size_hint_y: None
                height: '48dp'
                on_press: root.manager.current = 'menu'