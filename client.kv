<MenuScreen>:
    BoxLayout:
        Button:
            id: 'login_btn'
            text: 'Login'
            on_press: root.goto()
        Button:
            text: 'Settings'
            on_press: root.manager.current = 'settings'

<SettingsScreen>:
    BoxLayout:
        TextInput:
            id: host
            multiline: False
        TextInput:
            id: port
            multiline: False
        Button:
            text: 'Back to menu'
            on_press: root.save_config(host.text, port.text); root.manager.current = 'menu'

<CameraScreen>:
    BoxLayout:
        orientation: 'vertical'
        Camera:
            id: camera
            resolution: (640, 480)
            play: True
        ToggleButton:
            text: 'Snapshot'
            on_press: root.make_photo(camera)
            size_hint_y: None
            height: '48dp'

<MessageScreen>:
    BoxLayout:
        Button:
            id: btn_send
            text: 'Send'
            on_press: root.send_message(message_text.text); message_text.text=""
        Button:
            id: btn_makephoto
            text: 'Photo'
            on_press: root.manager.current = 'photo'
        TextInput:
            id: message_text
            multiline: True
        Button:
            text: 'Back to menu'
            on_press: root.manager.current = 'menu'


<LoginScreen>:
    GridLayout:
        rows: 1
        cols: 1
        GridLayout:
            rows: 3
            cols: 2
            Label:
                text: 'Username:'
            TextInput:
                id: username
                multiline: False
            Label:
                text: 'Password:'
            TextInput:
                id: password
                password: True
                multiline: False
            Button:
                id: send_button
                text: 'Send'
                on_press: root.login(username.text, password.text)